<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>JS30-02 Clock</title>
	<link rel="stylesheet" href="clock.css">
</head>
<body>
	<div class="clock">
		<div class="clock-face">
			<div class="hand hour-hand"></div>
			<div class="hand min-hand"></div>
			<div class="hand sec-hand"></div>
		</div>
	</div>
</body>
<script>
	const secHand = document.querySelector('.sec-hand')
	const minHand = document.querySelector('.min-hand')
	const hourHand = document.querySelector('.hour-hand')
	const hands = document.querySelectorAll('.hand')

	function setDate() {
		const now = new Date()
		const sec = now.getSeconds()
		const secDegrees = (sec / 60) * 360 + 90
		secHand.style.transform = `rotate(${secDegrees}deg)`
		const min = now.getMinutes()
		const minDegrees = (min / 60) * 360 + 90
		minHand.style.transform = `rotate(${minDegrees}deg)`
		const hour = now.getHours()
		// const hourDegrees = (hour / 12) * 360 + 90
		const hourDegrees = (90 + (hour / 12) * 360 + (min / 12 / 60) * 360)
		hourHand.style.transform = `rotate(${hourDegrees}deg)`
		if (+sec === 0) {
			hands.forEach(hand => {
				hand.style.transitionDuration = '0s'
			})
		} else {
			hands.forEach(hand => {
				hand.style.transitionDuration = '0.05s'
			})
		}
	}

	setInterval(setDate, 1000)
</script>
</html>